# 06. 영속성 컨텍스트란 무엇인가요?

### 4. JPA는 영속성 컨텍스트를 가지고 있다.
- __영속성__ : 데이터를 영구적으로 저장하는 것
  (자바에서는 데이터를 영구적으로 저장할 때 DB 이용)
- __컨텍스트__ : 대상의 모든 정보를 가지고 있는 것
- __영속성 컨텍스트__ : 자바 프로그램과 DB의 데이터에 대한 모든 정보를 영속성 컨텍스트를 통해 확인할 수 있음
  - 자바 프로그램에서 DB에 데이터를 저장할 때, DB의 데이터가 자바로 전달될 때 모두 영속성 컨텍스트를 거쳐야 함
  - 영속성 컨텍스트에서 일어나는 모든 일은 자동으로 처리됨
  - 영속성 컨텍스트에 있는 데이터와 DB에 있는 데이터는 동기화 되어 있음   
    자바 프로그램이 데이터를 select하면 영속성 컨텍스트는 DB에서 데이터를 가져와서 반환함 (영속성 컨텍스트의 데이터는 자바 Object 타입)   
    → 자바 프로그램, 영속성 컨텍스트, DB가 모두 같은 데이터를 가지고 있게 됨   
    → 자바 프로그램에서 데이터를 변경하면 영속성 컨텍스트에서도 데이터가 변경됨   
    → DB는 영속성 컨텍스트의 데이터와 자신의 데이터의 형상을 비교해 차이가 있으면 update문을 자동으로 호출함 (insert X)

### 5. JPA는 DB와 OOP의 불일치성을 해결하기 위한 방법론을 제공한다
- DB의 각각의 컬럼은 기본 자료형의 데이터만 가질 수 있음   
  __Object를 가질 수 없음__   
  자바의 필드는 기본 자료형뿐 아니라 Object를 필드로 가질 수 있음   
  → DB와 OOP의 불일치성
- ORM을 이용하면 자바가 주도권을 쥐고 있는 모델을 만들 수 있음   
  Object 타입으로 들어간 데이터를 insert하거나 select 할 때 JPA가 자동으로 매핑해서 데이터를 넣어줌